<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Improving the performance of Ajax on ThingsToDoSingapore.com">
    <title>Improving the performance of Ajax on ThingsToDoSingapore.com - Gary Teh's Blog</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.8;
            color: #333;
            background: #f5f5f5;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
        }
        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            color: #3498db;
            text-decoration: none;
            font-weight: 500;
        }
        .back-link:hover {
            color: #2980b9;
        }
        .header {
            border-bottom: 3px solid #2c3e50;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }
        h1 {
            color: #2c3e50;
            font-size: 2.2em;
            margin-bottom: 15px;
            line-height: 1.3;
        }
        .post-meta {
            color: #7f8c8d;
            font-size: 0.95em;
            margin-bottom: 10px;
        }
        .post-date {
            font-weight: 600;
        }
        .category-tag, .tag {
            background: #ecf0f1;
            padding: 3px 8px;
            border-radius: 3px;
            margin-right: 5px;
            font-size: 0.9em;
            display: inline-block;
            margin-top: 5px;
        }
        .content {
            font-size: 1.1em;
            line-height: 1.8;
        }
        .content h1, .content h2 {
            color: #2c3e50;
            margin-top: 30px;
            margin-bottom: 15px;
        }
        .content h3 {
            color: #34495e;
            margin-top: 25px;
            margin-bottom: 12px;
        }
        .content p {
            margin-bottom: 15px;
        }
        .content ul, .content ol {
            margin-left: 30px;
            margin-bottom: 15px;
        }
        .content li {
            margin-bottom: 8px;
        }
        .content code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        .content pre {
            background: #f4f4f4;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin-bottom: 15px;
        }
        .content pre code {
            background: none;
            padding: 0;
        }
        .content blockquote {
            border-left: 4px solid #3498db;
            padding-left: 20px;
            margin: 20px 0;
            color: #555;
            font-style: italic;
        }
        .content a {
            color: #3498db;
            text-decoration: none;
        }
        .content a:hover {
            text-decoration: underline;
        }
        .content img {
            max-width: 100%;
            height: auto;
            margin: 20px 0;
            border-radius: 5px;
        }
        footer {
            margin-top: 50px;
            padding-top: 20px;
            border-top: 1px solid #ecf0f1;
            text-align: center;
            color: #7f8c8d;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-link">← Back to all posts</a>
        
        <div class="header">
            <h1>Improving the performance of Ajax on ThingsToDoSingapore.com</h1>
            <div class="post-meta">
                <span class="post-date">January 01, 2010</span>
                <span class="category-tag">Uncategorized</span>
                <span class="tag">Uncertainty</span><span class="tag">free open source systems</span><span class="tag">paths</span><span class="tag">web 2.0</span><span class="tag">Software configurations</span>
            </div>
        </div>

        <div class="content">
            <p>Recently I started working on <a href="http://thingstodosingapore.com">Things To Do Singapore </a>again.</p>
<p>Apparently the javascript libraries were getting quite thick and this was affecting the loading of the interface.</p>
<p>There is the use of the following :</p>
<pre class="codehilite"><code>- Xajax Library
- Jquery Library
- Google friends Connect Api
- Facebook Connect Api
- SWFUpload Library
</code></pre>

<p>After much observation I realised the SWFUpload Library sometimes takes too long to load and fails as well causing the whole interface to fail loading at time seriously affecting usability of the site. Perhaps this might be to cause of the high bounce rate I observer from my Google Analytics of 80%.</p>
<p>I spent this morning thinking how to go about solving this problem and this was the method I came to</p>
<p>Javascript library should be classify into two groups as critical and non-critical to user experience.</p>
<p>The Xajax Library, jQuery library are considered critical to user experience</p>
<p>The Google Friends Connect library as well as the Facebook Connect library are not often employed. though these two library are too tightly integrated with the core achitecture. Perhaps it was a bad design choice.</p>
<p>SWFUpload is not often used by other users and hence rarely employed.</p>
<p>Having done the proper classification, I next work  on loading the SWFUpload asynchronously after the other library and interface has loaded. This in face drastically reduced improved useer experience. It reduced user waiting time as well as at the same time reduced the error rate of the loading interface.</p>
<p>This was how I did it.</p>
<p>jQuery(document).ready(function() {</p>
<p>loadScript("http://thingstodosingapore.com/swfupload/swfupload.js");
loadScript("http://thingstodosingapore.com/swfupload/swfupload.queue.js");
loadScript("http://thingstodosingapore.com/swfupload/fileprogress.js");
loadScript("http://thingstodosingapore.com/swfupload/handlers.js");
//alert("swf loaded");
});</p>
<p>function loadScript(sScriptSrc) {
var oHead = document.getElementById('head');
var oScript = document.createElement('script');
oScript.type = 'text/javascript';
oScript.src = sScriptSrc;
oHead.appendChild(oScript);
}</p>
        </div>

        <footer>
            <p><a href="index.html">← Back to all posts</a></p>
            <p>© Gary Teh • 2009-2024</p>
        </footer>
    </div>
</body>
</html>